{% extends "base.html" %}
{% load static %}
{% block page_header %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'profiles/css/profile.css' %}">
{% endblock %}


<div class="container header-container">
    <div class="row">
        <div class="col">

        </div>
    </div>
</div>
{% endblock %}
{% block content %}
<div class="overlay"></div>
<div class="container">
    <a href="{% url 'profile' %}" class="btn btn-black">
        <span class="icon mr-3">
            <i class="fas fa-angle-left"></i>
        </span>
        <span class="text-uppercase">Back to profile</span>
    </a>
    <h3 class="my-3">Product Review</h3>
    <hr class="text-muted">
    <div class="row mt-4">
        <div class="col-6">
            <form action="{% url 'add_review' product.product_id %}" method="POST">
                {% csrf_token %}
                <fieldset class="pb-4">
                    <span>
                        <label for="rating-1"><i class="fa fa-star" id="s1"></i></labe>
                            <input class="btn-check" type="radio" id="rating-1" name="stars" value="1" />

                            <label for="rating-2"><i class="fa fa-star" id="s2"></i></label>
                            <input class="btn-check" type="radio" id="rating-2" name="stars" value="2" />

                            <label for="rating-3"><i class="fa fa-star" id="s3"></i></label>
                            <input class="btn-check" type="radio" id="rating-3" name="stars" value="3" />

                            <label for="rating-4"><i class="fa fa-star" id="s4"></i></label>
                            <input class="btn-check" type="radio" id="rating-4" name="stars" value="4" />

                            <label for="rating-5"><i class="fa fa-star" id="s5"></i></label>
                            <input class="btn-check" type="radio" id="rating-5" name="stars" value="5" />
                    </span>
                </fieldset>
                {{ form.content|as_crispy_field }}

                <button type="submit" class="btn btn-black mt-3">Submit</button>
            </form>
        </div>
        <div class="col-6">
            <div class="row">
                <div class="col-6 offset-4">
                    {% if product.image1 %}
                    <img class="img-fluid" src="{{ product.image1.url }}" alt="{{ product.name }}">
                    {% else %}

                    <img class="img-fluid" src="{{ MEDIA_URL }}/noimage.png" alt="{{ product.name }}">

                    {% endif %}
                    <p>{{ product.name }}</p>
                    <p class="text-muted">{{ product.sku }}</p>
                </div>

            </div>

        </div>
    </div>




</div>

{% endblock %}

{% block postloadjs %}
{{ block.super }}


<script>
    // The star rating method has been learned from the following tutorial
    // (https://www.youtube.com/watch?v=YN2jW4Fp7tM)


    $(document).ready(function () {
        $("#s1").click(function () {
            $(".fa-star").css("color", "black");
            $("#s1").css("color", "#edd605");
        });

        $("#s2").click(function () {
            $(".fa-star").css("color", "black");
            $("#s1,#s2").css("color", "#edd605");
        });

        $("#s3").click(function () {
            $(".fa-star").css("color", "black");
            $("#s1,#s2,#s3").css("color", "#edd605");
        });

        $("#s4").click(function () {
            $(".fa-star").css("color", "black");
            $("#s1,#s2,#s3,#s4").css("color", "#edd605");
        });

        $("#s5").click(function () {
            $(".fa-star").css("color", "black");
            $("#s1,#s2,#s3,#s4,#s5").css("color", "#edd605");
        });
    })
</script>


{% endblock %}